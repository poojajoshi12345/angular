<?xml version="1.0" encoding="UTF-8"?>
<ibx-res-bundle>
	<strings>
		<string-bundle>
		<![CDATA[
		]]>
		</string-bundle>
	</strings>

	<styles>
		<style-sheet>
		<![CDATA[
			.ibx-crsl-prev-box, .ibx-crsl-next-box
			{
				xborder:1px solid black;
			}
			.ibx-crsl-items
			{
				margin:3px;
				border:1px solid #ccc;
				border-radius:3px;
			}
			.ibx-crsl-page-markers
			{
				xborder:1px solid black;				
			}

			.ibx-crsl-prev-btn, .ibx-crsl-next-btn
			{
				font-size:1.5em;
				font-weight:bold;
			}
			.ibx-crsl-prev-btn:hover, .ibx-crsl-next-btn:hover
			{
				background-color:#ddd;
			}
			.ibx-crsl-prev-btn:active, .ibx-crsl-next-btn:active
			{
				background-color:#bbb;
			}

			.ibx-crsl-items
			{
				overflow:hidden;
			}

			.ibx-crsl-page-mark
			{
				height:5px;
				width:5px;
				border:1px solid #aaa;
				border-radius:50%;
				margin:2px;
			}
			.crsl-mark-sel
			{
				background-color:#888;
			}
		]]>
		</style-sheet>
	</styles>

	<markup>
		<markup-block>
			<div class="test-select" data-ibx-type="ibxSelect" data-ibx-name-root="true">
				<div class="group1" data-ibx-type="ibxSelectGroup" data-ibx-name="group1" data-ibxp-text="Group1"></div>
				<div class="group2" data-ibx-type="ibxSelectGroup" data-ibx-name="group2" data-ibxp-text="Group2"></div>
			</div>


			<div class="res-ibx-carousel-body">
				<div class="ibx-crsl-prev-box" data-ibx-name='boxPrev' data-ibx-type="ibxHBox" data-ibx-align="center" data-ibx-col="1" data-ibx-row="1/span 2">
					<div class="ibx-crsl-prev-btn" data-ibx-name="btnPrev" data-ibx-type="ibxLabel" data-ibxp-glyph="keyboard_arrow_left" data-ibxp-glyph-classes="material-icons"></div>
				</div>
				<div class="ibx-crsl-next-box" data-ibx-name='boxNext' data-ibx-type="ibxHBox" data-ibx-align="center" data-ibx-col="3" data-ibx-row="1/span 2">
					<div class="ibx-crsl-next-btn" data-ibx-name="btnNext" data-ibx-type="ibxLabel" data-ibxp-glyph="keyboard_arrow_right" data-ibxp-glyph-classes="material-icons"></div>
				</div>
				<div class="ibx-crsl-page-markers" data-ibx-name='boxPageMarkers' data-ibx-type="ibxHBox" data-ibxp-justify="center" data-ibx-col="1/span 3" data-ibx-row="3">
					<div class="ibx-crsl-page-mark crsl-mark-sel"></div>
					<div class="ibx-crsl-page-mark"></div>
					<div class="ibx-crsl-page-mark"></div>
				</div>
				
				<div class="ibx-crsl-items" data-ibx-name='boxItems' data-ibx-type="ibxHBox" data-ibxp-wrap="true" data-ibxp-justify="spaceAround" data-ibxp-align-content="start" data-ibxp-align-items="spaceAround" data-ibx-col="2" data-ibx-row="2/span 2fr"></div>
			</div>
		</markup-block>
	</markup>

	<scripts>
		<script-block>
		<![CDATA[
			$.widget("ibi.ibxCarousel", $.ibi.ibxGrid,
			{
				options:
				{
					nameRoot:true,
					cols:"auto 1fr auto",
					rows:"auto 1fr auto",
					page:0,

					showPageMarkers:true,
					showPrevButton:true,
					showNextButton:true,
				},
				_widgetClass:"ibx-carousel",
				_create:function()
				{
					this._super();
					var children = this.element.children().detach();
					var resCaoursel = ibxResourceMgr.getResource(".res-ibx-carousel-body", false);
					this.element.append(resCaoursel.children());
					ibx.bindElements(this.element);
					this.add(children);
				},
				_destroy:function()
				{
					this._super();
				},
				children:function(selector)
				{
					return this.boxItems.ibxWidget("children", selector);
				},
				add:function(el, elSibling, before)
				{
					this._childAdded(el);
				},
				remove:function(el)
				{
					this.boxItems.ibxWidget("remove", el);
					this.refresh();
				},
				_childAdded:function(child, mutation)
				{
					child = $(child);
					child.removeClass("ibx-grid-cell").addClass("ibx-crsl-item");
					this.boxItems.append(child);
				},
				refresh:function()
				{
					var options = this.options;
					this._super();
				}
			});
			//# sourceURL=test_res_bundle.xml
		]]>
		</script-block>
	</scripts>
</ibx-res-bundle>