<!DOCTYPE html>
<html lang="en">
	<head>
		<title>HTML Test File</title>
		<meta http-equiv="X-UA-Compatible" content="IE=11" >
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<meta name="google" value="notranslate">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script type="text/javascript" src="../../resources/ibx.js"></script>
		<script type="text/javascript">
			ibx(function(e)
			{	
				var cw = $(".test-frame")[0].contentWindow;
				var cd = $(".test-frame")[0].contentDocument;
				cd.designMode = "on";
				cd.body.spellcheck = false;
				cd.body.contentEditable = true;

				$(cd).on("focusin focusout", function(e)
				{
					var body = $(this.body);
					if(e.type == "focusout")
					{
						var sel = this.defaultView.getSelection();
						var range = sel.getRangeAt(0);
						body.data("selInfo", {"sel":sel, "range":range});
					}
					else
					if(e.type == "focusin")
					{
						var selInfo = body.data("selInfo");
						if(selInfo)
						{
							selInfo.sel.removeAllRanges();
							selInfo.sel.addRange(selInfo.range);
						}
					}
				});

			}, true);
		</script>
		<style type="text/css">
			html, body
			{
				width:100%;
				height:100%;
				margin:0px;
			}
			.main-box
			{
				width:100%;
				height:100%;
				box-sizing:border-box;
			}
			.test-frame
			{
				width:500px;
				height:150px;
				border:1px solid black;
				margin:10px;
			}
		</style>
	</head>
	<body class="ibx-root">
		<div class="main-box" data-ibx-type="ibxHBox" data-ibxp-align="center" data-ibxp-justify="start">
			<div class="test-button" tabindex="0" data-ibx-type="ibxButton">test</div>
			<iframe tabindex="0" class="test-frame"></iframe>
		</div>
	</body>
</html>

