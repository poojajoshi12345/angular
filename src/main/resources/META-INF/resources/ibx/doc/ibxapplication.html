<!--Copyright 1996-2016 Information Builders, Inc. All rights reserved.-->
<!--$Revision: 1.9 $:-->
<script type="text/javascript">
	var path = "./samples/helloworld/"
	var app = $.get(path + "helloworld.html").done(function(path, content, status, xhr)
	{
		content = content.replace(/</g, "&lt;");
		$(".figure-helloworld-app").append(content);
	}.bind(this, path));
	path += "resources/";
	var app = $.get(path + "helloworld.res.xml").done(function(path, content, status, xhr)
	{
		content = content.documentElement.outerHTML.replace(/</g, "&lt;");
		content = content.replace(/(src=")(.*")/g, sformat("<a class='src-file-link' target='_blank' href=\"{1}$2\">$1$2</a>", path));
		$(".figure-helloworld-resbundle").append(content);
	}.bind(this, path));

	ibx.resourceMgr.addBundle("../doc/samples/helloworld/resources/helloworld.res.xml");
</script>
<article>
	<h1 data-title="ibx Application">Basic ibx Application</h1>
	A basic ibx application is very simple.  It's just an html file that includes 'ibx.js', and has an 'ibx()' main function.
	<section>
		<h4>Basic application skeleton</h4>
		<pre class="figure-helloworld-app"></pre>
	</section>
	<section>
		<h4>Binding Widget Properties in detail</h4>
		There are actually serveral ways you can set the properties of a widget via markup.  The most simple way is mentioned above...data-ibxp-xxx...but, 
		this can be verbose if you are setting a lot of properties.
		
		<p/>
		With that in mind, you can set multiple options at once using a JSON type method:
		<pre>
			&lt;!-- Note: when you set the PROPERTIES via JSON, the attribute is data-ibx-, not data-ibxp! -->
			&lt;div data-ibx-type="ibxWidget" data-ibx-options="{'option1':'value1', 'option2':'value2'}">&lt;/div>
		</pre>

		<p/>
		Additionally, if the option you are setting is itself an object:
		<pre>
			&lt;!-- Note: when you set a specific OPTION via JSON, the attribute is data-ibxp-, not data-ibx! -->
			&lt;div data-ibx-type="ibxWidget" data-ibxp-xxx="{'option1':'value1', 'option2':'value2'}">&lt;/div>
		</pre>

		<p/>
		Finally, if you are setting a property of an option that is an object:
		<pre>
			//the widget's options, with a sub object called xxx with a property subOption:
			options:
			{
				xxx:
				{
					subOption:""
				}
			}

			&lt;!-- setting xxx from markup -->
			&lt;div data-ibx-type="ibxWidget" data-ibxp-xxx.subOption="value">&lt;/div>
		</pre>
	</section>
</article>
<article>
	<h1 data-title="ibx Application">Resource Bundles</h1>
		Resource bundles are simple xml files that tie together all of an ibx module's assets and dependencies.
	<section>
		<h4 id="simpleResBundle">Simple Resource Bundle</h4>
		<pre class="figure-helloworld-resbundle"></pre>
	</section>

	<section>
		<h4>Some things to know about resource bundles</h4>
		<ol>
			<li style="color:red;font-weight:bold;">There are no ibx specific best practices regarding how you manage your resources.  It depends on your situation and preferences.
			<li>Bundles can contain any xml markup you like.  You should treat them as a place to organize ALL of the things your specific app needs to run.</li>
			<li>Bundles don't have to have all the sections (just the ones you need).</li>
			<li>The sections "&lt;strings>, &lt;styles>, etc" are just for readability, they are not relevent to the processing.</li>
			<li>You can organize your assets any way you please.  The 'src' attribute of the varous file types can point to any valid url.</li>
			<li>Bundles are processed in the following order (first external files, then inline by type):
				<ol>
					<li>Dependent resource bundles</li>
					<li>Strings</li>
					<li>CSS</li>
					<li>Markup</li>
					<li>Javascript</li>
					<li>Package resource bundles</li>
				</ol>
			</li>
		</ol>
	</section>
</article>
<article>
	<h1 data-title="ibx Application">ibxResourceManager</h1>
		The ibxResourceManager is responsible for:
		<ol>
			<li>Loading resources bundles, and all associated files (css/strings/markup/javascript/other resource bundles).</li>
			<li>Retrieving loaded resources and, if desired, bringing them into a running state (get me this widget!).</li>
			<li>Manging loaded string bundles by langauge, and finding string based on langauge settings (with cascading en-us -> en -> ibx_default).</li>
			<li>Replacing string tokens with runtime string values (for translatable strings)</li>
		</ol>

		So, let's say you wanted to load the "helloworld.res.xml" resource bundle (shown <a href="#simpleResBundle">here</a>), but not the "helloworld" ibx app, you could do the following (path is relative to ibx.js by default):
		<pre>ibx.resourceMgr.addBundle("../doc/samples/helloworld/resources/helloworld.res.xml");</pre>

	<section>
		<h4>Retrieving Resources</h4>
		Resource bundles server two purposes, first, they load resources (like css/js/markup files), and second they can retrieve and bind resources so you can
		use them in your application.
		
		<p/>
		There are two main types of resources you can retrieve:
		<ul>
			<li>
				<b>Strings:</b><br/>
				A string is retrieved from the resource manager by:
				<pre>ibx.resourceMgr.getString(id, def, language)</pre>
				<p/>
				Where:
				<ul>
					<li><b>id</b> is the language independent identifier of the string to be retrieved.</li>
					<li><b>def</b> is the string to use if the STRING_SYMBOL is not found.<br/>
						* The missing string can also be set as a global value for the entire resource manager, so you don't have to pass it every time.
					</li>
					<li><b>language</b> is the language code you want to get (en_us).<br/>
						* The resource bundle has a default language you can set so you don't have to pass it every time.<br/>
						* The resource bundle will cascade the language code if it can't be located. That is: en_us  ->  en  ->  ibx_default
					</li>
				</ul>
				<p/>
				Also:<br/>
				You can do string substitutions in resources too by putting @ibxString(STRING_SYMBOL) where the string would be:
				<pre>&lt;div data-ibx-type="ibxLabel" data-ibxp-label="@ibxString(STRING_SYMBOL)">&lt;/div></pre>
				<pre>&lt;div data-ibx-type="ibxLabel">@ibxString(STRING_SYMBOL)&lt;/div></pre>
				<pre>&lt;div>I'm some random piece of markup with a runtime string: @ibxString(STRING_SYMBOL)&lt;/div></pre>
			</li>
			<li>
				<b>Markup:</b><br/>
				Resource bundles can have any type of well formed markup you like.  They are just XML files.  You retrieve a pice of markup by:
				<pre>ibx.resourceMgr.getResource(selector, ibxBind, forceCreate)</pre>
				<p/>
				Where:
				<ul>
					<li><b>selector</b> is any valid jQuery selector to find the desired resource(s) in all loaded bundles managed by that instance of the resource manager.
					<li><b>ibxBind</b> when selector is found, automatically bind that resource into ibxWidgets</li>
					<li><b>forceCreate</b> NOT USED AT THIS TIME - DO NOT PASS</li>
				</ul>
				For Example:<br/>
				This is a snippet from the <a href="#simpleResBundle">'Simple Resource Bundle'</a> code above...
				<pre>
					&lt;markup>
						&lt;markup-file src="./markup/helloworld_markup.xml"/>
						&lt;markup-block>
							&lt;div class="class-inline-res-bundle res-bundle-label" data-ibx-type="ibxLabel">Hello World (inline res bundle)</div>
						&lt;/markup-block>
					&lt;/markup>
				</pre>

			</li>
		<ul>
	</section>
</article>