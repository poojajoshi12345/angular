<!DOCTYPE html>
<html lang="en">
	<head>
		<title>ibx wizard sample</title>
		<meta http-equiv="X-UA-Compatible" content="IE=11" >
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<meta name="google" value="notranslate">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!--include this script...will boot ibx into the running state-->
		<Script src="../../../resources/ibx.js" type="text/javascript"></script>
		<script type="text/javascript">
			ibx(function()
			{
				// jQuery.event.special.ibx_change = {noBubble:true};
				$(".test-btn").on("click", function(e)
				{
					var wiz = $(".test-wiz");
					wiz.ibxWidget("open");
				});

				$(".wiz-page-button-test").on("ibx_change", function(e)
				{
					var checked = $(e.currentTarget).ibxWidget("option", "checked");
					$(".test-wiz").ibxWidget("allowNext", checked);
				});

				$(".test-wiz").on("ibx_beforewizardpagechange ibx-wizardpagechange ibx_beforeclose", function(e, hint)
				{
					console.log(e.type, hint)
					if(e.type == "ibx_beforeclose")
					{
						alert("You finished the wizard!");
					}
				});
			}, [{"src":"./wizard_res.xml", "loadContext":"app"}], true);
		</script>
		<style type="text/css">
			body
			{
				margin:0px;
				position:absolute;
				width:100%;
				height:100%;
				box-sizing:border-box;
			}
			.wiz-page-content
			{
				width:300px;
				height:200px;
				padding:10px;
			}
			.wiz-page-button-test
			{
				margin:5px;
			}
		</style>
	</head>
	<body class="ibx-root" data-ibx-type="ibxVBox" data-ibxp-wrap="false">
		<div class="test-btn" data-ibx-type="ibxButton">Show Wizard</div>

		<div class="test-wiz" data-ibx-type="ibxWizard" data-ibxp-destroy-on-close="false">
			<div class="test-page p1" data-ibx-type="ibxWizardPage" data-ibxp-selected="true" data-ibxp-tab-options="{text:' Wizard Step 1'}">
				<div class="wiz-page-content">
					<div class="test-label">Step 1...</div>
					<div tabindex="0" class="wiz-page-button-test" data-ibx-type="ibxCheckBoxSimple">Check me to continue</div>
				</div>
			</div>
			<div class="test-page p2" data-ibx-type="ibxWizardPage" data-ibxp-tab-options="{text:'Wizard Step 2'}">
				<div class="wiz-page-content">
					<div class="test-label">Step 12...</div>
					<div tabindex="0" class="wiz-page-button-test" data-ibx-type="ibxCheckBoxSimple">Check me to continue</div>
				</div>
			</div>
			<div class="test-page p3" data-ibx-type="ibxWizardPage" data-ibxp-tab-options="{text:'Wizard Step 3'}">
				<div class="wiz-page-content">
					<div class="test-label">Step 3...</div>
					<div tabindex="0" class="wiz-page-button-test" data-ibx-type="ibxCheckBoxSimple">Check me to continue</div>
				</div>
			</div>
		</div>
	</body>
</html>
